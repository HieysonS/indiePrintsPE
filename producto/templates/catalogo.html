{% extends "base.html" %}
{% block titulo %} Productos | Indie Prints{% endblock %}
{% block contenedor %}
<div class="columns">
  <!-- Sección de filtros -->
  <div class="column is-one-quarter">
    <aside class="menu">
      <p class="menu-label">Filtros</p>
      <form method="get">
          <div class="select is-rounded">
              <select name="categoria" onchange="this.form.submit()">
                  <option value="">Todas las Categorías</option>
                  <option value="15">The Killers</option>
                  <option value="14">Interpol</option>
                  <option value="13">The Cure</option>
                  <option value="11">Radiohead</option>
                  <option value="1">Artick Monkeys</option>
                  <option value="16">The Neighbourhood</option>
                  <option value="4">Arcade fire</option>
              </select>
          </div>
      </form>
    </aside>
  </div>


  <!-- Sección de catálogo -->
  <div class="column is-three-quarters">
    <!-- Sección de búsqueda -->
    <div class="field has-addons">
      <div class="control is-expanded">
        <input class="input" type="text" placeholder="Buscar polo">
      </div>
      <div class="control">
        <button class="button is-info">Buscar</button>
      </div>
    </div>

    <div class="columns is-multiline">
      {% for producto in productos %}
        <div class="column is-one-third">
          <div class="card">
            <div class="card-image">
              <figure class="image is-4by5">
                <a href="detalleProducto/{{producto.id}}">
                <img src="{{ producto.imagen.url }}" alt="Imagen de {{ producto.nombre }}">
                </a>
              </figure>
            </div>
            <div class="card-content">
              <p class="title is-4">{{ producto.nombre }}</p>
              <p class="subtitle is-10">S/. {{ producto.precio}}</p>
              <p class="subtitle is-10">Stock: {{ producto.stock }}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
    <div class="pagination">
    <span class="step-links">
        {% if productos.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ productos.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ productos.number }} of {{ productos.paginator.num_pages }}.
        </span>

        {% if productos.has_next %}
            <a href="?page={{ productos.next_page_number }}">next</a>
            <a href="?page={{ productos.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
  </div>
</div>
{% endblock %}